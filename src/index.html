<!DOCTYPE html>
<html>
<head>
   <title>C3PO </title>
   <link rel="icon" href="images/favicon.ico" type="image/x-icon"/>
   <meta name="viewport" content="width=device-width, initial-scale=1">

   <!-- Latest compiled and minified CSS -->
   <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
         integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

   <!-- Optional theme -->
   <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css"
         integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">

   <!-- Latest compiled and minified JavaScript -->
   <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"
           integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa"
           crossorigin="anonymous"></script>

   <!-- Story Pop up -->
   <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
   <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
   <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

   <!-- Google Sign In-->
   <meta name="google-signin-scope" content="profile email">
   <meta name="google-signin-client_id"
         content="659197638484-0r394k07fsa5ar9duq3u3q0f4pkk46tj.apps.googleusercontent.com">
   <script src="https://apis.google.com/js/platform.js" async defer></script>
   <link rel="stylesheet" href="scroll.css">


    <link rel="stylesheet" href="css/scroll.css"/>

</head>

<body>

<nav class="navbar navbar-inverse">
   <div class="container-fluid">
      <div class="navbar-header">
         <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
         </button>
         <a class="navbar-brand" href="index.html">Core Communication Collaboration Portal</a>
      </div>
      <div class="collapse navbar-collapse" id="myNavbar">
         <ul class="nav navbar-nav">
            <li class="active"><a href="index.html"></a></li>
            <li class="dropdown"><a href='#'></a>
            </li>
            <li><a href="#"></a></li>
            <li><a href="#"></a></li>
         </ul>
         <ul class="nav navbar-nav navbar-right">
            <li>
               <div class="btn-group">
     
        
                   <select class="button1 btn btn-primary dropdown-toggle" id="user-list">
                       <!-- Populated by users.js -->

                   </select>

               </div>
            </li>
         </ul>
      </div>
   </div>
</nav>
<div> <!-- Main Body --> 
<div class="row" id="container">
   <!-- Chat COLUMN---------->
   <div class="col-sm-3" id="left" height: 100px>
    <div class="sticky">   
      <h2 class="panel panel-white post text-center">Chat</h2>
    </div>
       <div class="" id="chatPane">
         <!-- Filled in by script -->
      </div>
      <div class="footer1">
         <div class="widget-area no-padding blank">
            <div class="status-upload">
               <form>
                  <textarea class="" placeholder="What are you doing right now?" id="chat-content"></textarea>
                  <button type="button" id="send-message" class="btn btn-primary btn-lg"><i class="fa fa-share"></i> Share</button>

               </form>
            </div>
            <!-- Status Upload  -->
         </div>
         <!-- Widget Area -->
      </div>
   </div>
   <!-- Current Iteration COLUMN ---------->
   <div class="col-sm-3" id="middleLeft" height: 100px>
       <div class="sticky">
      <h2 class="panel panel-white post panel-shadow text-center">Current Iteration</h2>
        <div class="dropdown myBtnContainer">
  <button class="default btn btn-primary dropdown-toggle" type="button" data-toggle="dropdown"onclick="filterSelection('all')"> Show all<span class="caret"></span></button>
  <ul class="dropdown-menu">
    <li><a onclick="filterSelection('State1')"> State 1</a></li>
    <li><a onclick="filterSelection('State2')"> State 2</a></li>
    <li><a onclick="filterSelection('State3')"> State 3</a></li>
    <li><a onclick="filterSelection('State4')"> State 4</a></li>
  </ul>
</div>
       </div>
       
           <div class="card filterDiv State1" style="width: auto;"> <!-- Story Card -->
         <div class="card-body">
            <h5 class="card-title">State 1 Card title</h5>
            <h6 class="card-subtitle mb-2 text-muted">Card subtitle</h6>
            <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's
               content.</p>
            <div class="btn-group">
               <button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown">
                  Move
                  <span class="caret"></span>
               </button>
               <ul class="dropdown-menu" role="menu">
                  <li><a href="#">Action</a></li>
                  <li><a href="#">Another action</a></li>
                  <li><a href="#">Something else here</a></li>
                  <li class="divider"></li>
                  <li><a href="#">Separated link</a></li>
               </ul>
            </div>
         </div>
      </div> <!--End Story Card -->
      <br>
       
           <div class="card filterDiv State4" style="width: auto;"> <!-- Story Card -->
         <div class="card-body">
            <h5 class="card-title">State 4 Card title</h5>
            <h6 class="card-subtitle mb-2 text-muted">Card subtitle</h6>
            <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's
               content.</p>
            <div class="btn-group">
               <button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown">
                  Move
                  <span class="caret"></span>
               </button>
               <ul class="dropdown-menu" role="menu">
                  <li><a href="#">Action</a></li>
                  <li><a href="#">Another action</a></li>
                  <li><a href="#">Something else here</a></li>
                  <li class="divider"></li>
                  <li><a href="#">Separated link</a></li>
               </ul>
            </div>
         </div>
      </div> <!--End Story Card -->
      <br>
       
       
           <div class="card filterDiv State3" style="width: auto;"> <!-- Story Card -->
         <div class="card-body">
            <h5 class="card-title">State 3 Card title</h5>
            <h6 class="card-subtitle mb-2 text-muted">Card subtitle</h6>
            <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's
               content.</p>
            <div class="btn-group">
               <button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown">
                  Move
                  <span class="caret"></span>
               </button>
               <ul class="dropdown-menu" role="menu">
                  <li><a href="#">Action</a></li>
                  <li><a href="#">Another action</a></li>
                  <li><a href="#">Something else here</a></li>
                  <li class="divider"></li>
                  <li><a href="#">Separated link</a></li>
               </ul>
            </div>
         </div>
      </div> <!--End Story Card -->
      <br>
       
           <div class="card filterDiv State2" style="width: auto;"> <!-- Story Card -->
         <div class="card-body">
            <h5 class="card-title">State 2 Card title</h5>
            <h6 class="card-subtitle mb-2 text-muted">Card subtitle</h6>
            <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's
               content.</p>
            <div class="btn-group">
               <button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown">
                  Move
                  <span class="caret"></span>
               </button>
               <ul class="dropdown-menu" role="menu">
                  <li><a href="#">Action</a></li>
                  <li><a href="#">Another action</a></li>
                  <li><a href="#">Something else here</a></li>
                  <li class="divider"></li>
                  <li><a href="#">Separated link</a></li>
               </ul>
            </div>
         </div>
      </div> <!--End Story Card -->
      <br>
       
           <div class="card filterDiv State1" style="width: auto;"> <!-- Story Card -->
         <div class="card-body">
            <h5 class="card-title">State 1 Card title</h5>
            <h6 class="card-subtitle mb-2 text-muted">Card subtitle</h6>
            <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's
               content.</p>
            <div class="btn-group">
               <button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown">
                  Move
                  <span class="caret"></span>
               </button>
               <ul class="dropdown-menu" role="menu">
                  <li><a href="#">Action</a></li>
                  <li><a href="#">Another action</a></li>
                  <li><a href="#">Something else here</a></li>
                  <li class="divider"></li>
                  <li><a href="#">Separated link</a></li>
               </ul>
            </div>
         </div>
      </div> <!--End Story Card -->
      <br>
       
       
           <div class="card filterDiv State2" style="width: auto;"> <!-- Story Card -->
         <div class="card-body">
            <h5 class="card-title">State 2 Card title</h5>
            <h6 class="card-subtitle mb-2 text-muted">Card subtitle</h6>
            <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's
               content.</p>
            <div class="btn-group">
               <button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown">
                  Move
                  <span class="caret"></span>
               </button>
               <ul class="dropdown-menu" role="menu">
                  <li><a href="#">Action</a></li>
                  <li><a href="#">Another action</a></li>
                  <li><a href="#">Something else here</a></li>
                  <li class="divider"></li>
                  <li><a href="#">Separated link</a></li>
               </ul>
            </div>
         </div>
      </div> <!--End Story Card -->
      <br>
       
       
       
       
       
   </div>
   <!-- Backlog-->
   <div class="col-sm-3" id="middleRight">
    <div class="sticky"> 
      <h2 class="panel panel-white post text-center">Backlog</h2>
       </div>
      <div class="card" style="width: auto;">
         <div class="card-body">
            <h5 class="card-title">Card title</h5>
            <h6 class="card-subtitle mb-2 text-muted">Card subtitle</h6>
            <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's
               content.</p>
            <div class="btn-group">
               <button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown">
                  Move
                  <span class="caret"></span>
               </button>
               <ul class="dropdown-menu" role="menu">
                  <li><a href="#">Action</a></li>
                  <li><a href="#">Another action</a></li>
                  <li><a href="#">Something else here</a></li>
                  <li class="divider"></li>
                  <li><a href="#">Separated link</a></li>
               </ul>
            </div>
         </div>
      </div>
      <br>

      <br>
      <br>
      <div class="container-fluid">
         <div class="text-ceter">
            <!-- Trigger the modal with a button -->
            <button type="button" class="footer btn btn-primary btn-lg float-right" data-toggle="modal" data-target="#myModal">
               Add Story
            </button>
         </div>
         <!-- Modal -->
         <div class="modal fade " id="myModal" role="dialog">
            <div class="modal-dialog">
               <!-- Modal content-->
               <div class="modal-content">
                  <div class="modal-header" method="post">
                     <h2 class="modal-title">Story</h2>
                     <button type="button" class="close" data-dismiss="modal">&times;</button>
                  </div>
                  <div class="modal-body">
                     <p class="modaltext">Story Name:</p>
                     <textarea rows="1" cols="30" name="comment" form="userdescription" id="storyName1"
                               placeholder="Enter story description here...">
        </textarea>
                     <p class="modaltext" id="sizeSelect1">Select story size: </p>
                     <br>
                     <label class="modaltext" id="radiobuttons">S
                        <input type="radio" checked="checked" name="radio" id="sizeSmall1">
                        <span class="checkmark"></span>
                        M <input type="radio" id="sizeMedium1" name="radio">
                        <span class="checkmark"></span>
                        L <input type="radio" id="sizeLarge1" name="radio">
                        <span class="checkmark"></span>
                     </label>
                     <br>
                     <p class="modaltext" id="storyDes1">Story Description:</p>
                     <textarea rows="4" cols="30" name="comment" form="userdescription"
                               placeholder="Enter story description here...">
        </textarea>
                     <br>
                     <br>
                     <form id="ownerName1">
                        <p class="modaltext">Story Owner: <input type="text" name="Owner" placeholder="Owner Name...">
                        </p>
                     </form>
                     <br>
                  </div>
                  <!-- Add On click JS to this button to add info to DB. Send the request to a php file.  On the PHP side, run an insert command -->
               </div>

               <script>
                  // TODO: Clean this up. Move it?
                  /*var http = new XMLHttpRequest();
                  var url = 'get_data.php';
                  var params = 'orem=ipsum&name=binny';
                  http.open('POST', 'php/db_connect.php', true);

                  //Send the proper header information along with the request

                  http.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');

                  http.onreadystatechange = function() {

                      //Call a function when the state changes.
                      if(http.readyState == 4 && http.status == 200) {
                          alert(http.responseText);
                      }
                  };
                  http.send(params);*/


               </script>
               <div class="modal-footer">
                  <button id="submit1" type="button" class="btn btn-default" data-dismiss="modal">Submit</button>
               </div>
            </div>
         </div>
      </div>
   </div>
   <!-- Bug COLUMN ---------->
   <div class="col-sm-3" id="right">
    <div class="sticky"> 
      <h2 class="panel panel-white post text-center">Bugs</h2>
       </div>
      <div class="card" style="width: auto;">
         <div class="card-body">
            <h5 class="card-title">Card title</h5>
            <h6 class="card-subtitle mb-2 text-muted">Card subtitle</h6>
            <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's
               content.</p>
            <div class="btn-group">
               <button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown">
                  Move
                  <span class="caret"></span>
               </button>
               <ul class="dropdown-menu" role="menu">
                  <li><a href="#">Action</a></li>
                  <li><a href="#">Another action</a></li>
                  <li><a href="#">Something else here</a></li>
                  <li class="divider"></li>
                  <li><a href="#">Separated link</a></li>
               </ul>
            </div>
         </div>
      </div>
      <br>
 <div class="container-fluid">
         <div class="text-ceter">
            <!-- Trigger the modal with a button -->
            <div id="footer">
             <button type="button" class="footer btn btn-primary btn-lg float-right" data-toggle="modal" data-target="#myBugModal">
               Add Bug
            </button>
         </div>
     </div>
         <!-- Modal -->
         <div class="modal fade " id="myBugModal" role="dialog">
            <div class="modal-dialog">
               <!-- Modal content-->
               <div class="modal-content">
                  <div class="modal-header" method="post">
                     <h2 class="modal-title">Bug</h2>
                     <button type="button" class="close" data-dismiss="modal">&times;</button>
                  </div>
                  <div class="modal-body">
                     <p class="modaltext">Bug Name:</p>
                     <textarea rows="1" cols="30" name="comment" form="userdescription" id="storyName1"
                               placeholder="Enter story description here...">
        </textarea>
                     
                     <br>
                     <p class="modaltext" id="storyDes1">Bug Description:</p>
                     <textarea rows="4" cols="30" name="comment" form="userdescription"
                               placeholder="Enter story description here...">
        </textarea>
                     <br>
                     <br>
                     <form id="ownerName1">
                        <p class="modaltext">Bug Owner: <input type="text" name="Owner" placeholder="Owner Name...">
                        </p>
                     </form>
                     <br>
                  </div>
                  <!-- Add On click JS to this button to add info to DB. Send the request to a php file.  On the PHP side, run an insert command -->
               </div>

               <script>
                  // TODO: Clean this up. Move it?
                  /*var http = new XMLHttpRequest();
                  var url = 'get_data.php';
                  var params = 'orem=ipsum&name=binny';
                  http.open('POST', 'php/db_connect.php', true);

                  //Send the proper header information along with the request

                  http.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');

                  http.onreadystatechange = function() {

                      //Call a function when the state changes.
                      if(http.readyState == 4 && http.status == 200) {
                          alert(http.responseText);
                      }
                  };
                  http.send(params);*/


               </script>
               <div class="modal-footer">
                  <button id="submit1" type="button" class="btn btn-default" data-dismiss="modal">Submit</button>
               </div>
            </div>
         </div>
      </div>
   </div>
</div>
</div> <!--End of Main Body-->
<div class="BottomFooter navbar-inverse">
   <div class=" container-fluid">
      <div class="navbar-header">
         <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
         </button>
         <a class="navbar-brand" href="#"></a>
      </div>
      <div class="collapse navbar-collapse" id="myNavbar">
         <ul class="nav navbar-nav">
            <li class="active"><a href="#"></a></li>
            <li class="dropdown"><a href='#'></a>
            </li>
            <li><a href="#"></a></li>
            <li><a href="#"></a></li>
         </ul>
         <ul class="nav navbar-nav navbar-right">
            <li>

            </li>
         </ul>
      </div>
   </div></div>

<!-- Import JavaScript functionality and set window.onload -->
<script src="js/chat.js"></script>
<script src="js/users.js"></script>
<script type="text/javascript">
   getMessages();
   getUsers();

   document.getElementById("send-message").addEventListener("click", sendMessage);
</script>

    <!--Filtering --> 
<script>
filterSelection("all")
function filterSelection(c) {
  var x, i;
  x = document.getElementsByClassName("filterDiv");
  if (c == "all") c = "";
  for (i = 0; i < x.length; i++) {
    w3RemoveClass(x[i], "show");
    if (x[i].className.indexOf(c) > -1) w3AddClass(x[i], "show");
  }
}

function w3AddClass(element, name) {
  var i, arr1, arr2;
  arr1 = element.className.split(" ");
  arr2 = name.split(" ");
  for (i = 0; i < arr2.length; i++) {
    if (arr1.indexOf(arr2[i]) == -1) {element.className += " " + arr2[i];}
  }
}

function w3RemoveClass(element, name) {
  var i, arr1, arr2;
  arr1 = element.className.split(" ");
  arr2 = name.split(" ");
  for (i = 0; i < arr2.length; i++) {
    while (arr1.indexOf(arr2[i]) > -1) {
      arr1.splice(arr1.indexOf(arr2[i]), 1);     
    }
  }
  element.className = arr1.join(" ");
}

// Add active class to the current button (highlight it)
var btnContainer = document.getElementById("myBtnContainer");
var btns = btnContainer.getElementsByClassName("btn");
for (var i = 0; i < btns.length; i++) {
  btns[i].addEventListener("click", function(){
    var current = document.getElementsByClassName("active");
    current[0].className = current[0].className.replace(" active", "");
    this.className += " active";
  });
}
</script>  <!--Filtering -->    

</body>
</html>